(()=>{var e={};e.id=809,e.ids=[809],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},4561:(e,t,r)=>{"use strict";r.r(t),r.d(t,{patchFetch:()=>g,routeModule:()=>m,serverHooks:()=>y,workAsyncStorage:()=>h,workUnitAsyncStorage:()=>x});var a={};r.r(a),r.d(a,{GET:()=>d,POST:()=>l,dynamic:()=>p,revalidate:()=>u});var s=r(2706),o=r(8203),n=r(5994),c=r(9187),i=r(5600);let p="force-static",u=30;async function d(){try{console.log("Attempting to fetch matches...");let e=await i.z.matches.findMany({take:5,orderBy:{match_date:"desc"},include:{player_matches:{include:{players:!0}}}});return console.log("Matches fetched:",e),c.NextResponse.json({data:e})}catch(e){return console.error("Database Error:",e),c.NextResponse.json({error:"Failed to fetch matches",details:e},{status:500})}}async function l(e){try{console.log("Attempting to create match...");let{match_date:t,team_a_score:r,team_b_score:a,player_matches:s}=await e.json(),o=await i.z.matches.create({data:{match_date:new Date(t),team_a_score:r,team_b_score:a,player_matches:{create:s}},include:{player_matches:{include:{players:!0}}}});return console.log("Match created:",o),c.NextResponse.json({data:o})}catch(e){return console.error("Database Error:",e),c.NextResponse.json({error:"Failed to create match",details:e},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/matches/route",pathname:"/api/matches",filename:"route",bundlePath:"app/api/matches/route"},resolvedPagePath:"C:\\Users\\Ian\\BerkoTNF\\src\\app\\api\\matches\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:h,workUnitAsyncStorage:x,serverHooks:y}=m;function g(){return(0,n.patchFetch)({workAsyncStorage:h,workUnitAsyncStorage:x})}},6487:()=>{},8335:()=>{},5600:(e,t,r)=>{"use strict";r.d(t,{z:()=>s});let a=require("@prisma/client"),s=global.prisma||new a.PrismaClient({log:["query"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,452],()=>r(4561));module.exports=a})();