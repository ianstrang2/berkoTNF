"use strict";(()=>{var e={};e.id=450,e.ids=[450],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6635:(e,t,a)=>{a.r(t),a.d(t,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>h,routeModule:()=>m,serverHooks:()=>y,staticGenerationAsyncStorage:()=>g});var r={};a.r(r),a.d(r,{GET:()=>u,POST:()=>d,dynamic:()=>l,revalidate:()=>p});var s=a(9303),o=a(8716),n=a(670),c=a(7070),i=a(728);let l="force-static",p=30;async function u(){try{console.log("Attempting to fetch matches...");let e=await i._.matches.findMany({take:5,orderBy:{match_date:"desc"},include:{player_matches:{include:{players:!0}}}});return console.log("Matches fetched:",e),c.NextResponse.json({data:e})}catch(e){return console.error("Database Error:",e),c.NextResponse.json({error:"Failed to fetch matches",details:e},{status:500})}}async function d(e){try{console.log("Attempting to create match...");let{match_date:t,team_a_score:a,team_b_score:r,player_matches:s}=await e.json(),o=await i._.matches.create({data:{match_date:new Date(t),team_a_score:a,team_b_score:r,player_matches:{create:s}},include:{player_matches:{include:{players:!0}}}});return console.log("Match created:",o),c.NextResponse.json({data:o})}catch(e){return console.error("Database Error:",e),c.NextResponse.json({error:"Failed to create match",details:e},{status:500})}}let m=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/matches/route",pathname:"/api/matches",filename:"route",bundlePath:"app/api/matches/route"},resolvedPagePath:"C:\\Users\\Ian\\BerkoTNF\\src\\app\\api\\matches\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:h,staticGenerationAsyncStorage:g,serverHooks:y}=m,x="/api/matches/route";function f(){return(0,n.patchFetch)({serverHooks:y,staticGenerationAsyncStorage:g})}},728:(e,t,a)=>{a.d(t,{_:()=>s});let r=require("@prisma/client"),s=global.prisma||new r.PrismaClient({log:["query"]})}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),r=t.X(0,[948,972],()=>a(6635));module.exports=r})();