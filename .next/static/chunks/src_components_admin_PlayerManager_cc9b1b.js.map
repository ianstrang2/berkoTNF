{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/Ian/BerkoTNF/src/components/admin/PlayerManager.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nconst PlayerManager = () => {\r\n  const [players, setPlayers] = useState([]);\r\n  const [selectedPlayer, setSelectedPlayer] = useState(null);\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    is_ringer: false,\r\n    is_retired: false, // Replace 'active' with 'is_retired'\r\n  });\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchPlayers();\r\n  }, []);\r\n\r\n  const fetchPlayers = async () => {\r\n    try {\r\n      const response = await fetch('/api/admin/players');\r\n      const data = await response.json();\r\n      if (data.data) {\r\n        setPlayers(data.data);\r\n      }\r\n    } catch (error) {\r\n      setError('Failed to fetch players');\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsLoading(true);\r\n    setError('');\r\n\r\n    try {\r\n      const url = selectedPlayer\r\n        ? '/api/admin/players'\r\n        : '/api/admin/players';\r\n      const method = selectedPlayer ? 'PUT' : 'POST';\r\n      const body = selectedPlayer\r\n        ? { ...formData, player_id: selectedPlayer.player_id }\r\n        : formData;\r\n\r\n      const response = await fetch(url, {\r\n        method,\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n\r\n      const data = await response.json();\r\n      if (data.error) {\r\n        throw new Error(data.error);\r\n      }\r\n\r\n      // Reset form and refresh player list\r\n      setFormData({ name: '', is_ringer: false, is_retired: false });\r\n      setSelectedPlayer(null);\r\n      fetchPlayers();\r\n    } catch (error) {\r\n      setError(error.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEdit = (player) => {\r\n    setSelectedPlayer(player);\r\n    setFormData({\r\n      name: player.name,\r\n      is_ringer: player.is_ringer,\r\n      is_retired: player.is_retired, // Change active to is_retired\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <h2 className=\"text-2xl font-bold\">\r\n        {selectedPlayer ? 'Edit Player' : 'Add New Player'}\r\n      </h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n        <div>\r\n          <label className=\"block text-sm font-medium text-gray-700\">Name</label>\r\n          <input\r\n            type=\"text\"\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({ ...formData, name: e.target.value })}\r\n            className=\"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex items-center space-x-4\">\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={formData.is_ringer}\r\n              onChange={(e) =>\r\n                setFormData({ ...formData, is_ringer: e.target.checked })\r\n              }\r\n              className=\"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50\"\r\n            />\r\n            <span className=\"ml-2\">Ringer</span>\r\n          </label>\r\n\r\n          <label className=\"flex items-center\">\r\n            <input\r\n              type=\"checkbox\"\r\n              checked={!formData.is_retired} // Reverse the logic: if not retired, they are \"active\"\r\n              onChange={(e) =>\r\n                setFormData({ ...formData, is_retired: !e.target.checked })\r\n              }\r\n              className=\"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50\"\r\n            />\r\n            <span className=\"ml-2\">Active</span>\r\n          </label>\r\n        </div>\r\n\r\n        {error && <p className=\"text-red-500\">{error}</p>}\r\n\r\n        <div className=\"flex space-x-4\">\r\n          <button\r\n            type=\"submit\"\r\n            disabled={isLoading}\r\n            className=\"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-blue-500 transition-all disabled:opacity-50\"\r\n          >\r\n            {isLoading\r\n              ? 'Saving...'\r\n              : selectedPlayer\r\n              ? 'Update Player'\r\n              : 'Add Player'}\r\n          </button>\r\n\r\n          {selectedPlayer && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => {\r\n                setSelectedPlayer(null);\r\n                setFormData({ name: '', is_ringer: false, is_retired: false });\r\n              }}\r\n              className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-all\"\r\n            >\r\n              Cancel Edit\r\n            </button>\r\n          )}\r\n        </div>\r\n      </form>\r\n\r\n      <div className=\"mt-8\">\r\n        <h3 className=\"text-xl font-semibold mb-4\">Player List</h3>\r\n        <div className=\"bg-white shadow overflow-hidden rounded-lg\">\r\n          <table className=\"min-w-full divide-y divide-gray-200\">\r\n            <thead className=\"bg-gray-50\">\r\n              <tr>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Name\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Status\r\n                </th>\r\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Ringer\r\n                </th>\r\n                <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  Actions\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"bg-white divide-y divide-gray-200\">\r\n              {players.map((player) => (\r\n                <tr key={player.player_id}>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div className=\"text-sm font-medium text-gray-900\">\r\n                      {player.name}\r\n                    </div>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span\r\n                      className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                        player.is_retired\r\n                          ? 'bg-red-100 text-red-800'\r\n                          : 'bg-green-100 text-green-800'\r\n                      }`}\r\n                    >\r\n                      {player.is_retired ? 'Retired' : 'Active'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span\r\n                      className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\r\n                        player.is_ringer\r\n                          ? 'bg-yellow-100 text-yellow-800'\r\n                          : 'bg-gray-100 text-gray-800'\r\n                      }`}\r\n                    >\r\n                      {player.is_ringer ? 'Yes' : 'No'}\r\n                    </span>\r\n                  </td>\r\n                  <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                    <button\r\n                      onClick={() => handleEdit(player)}\r\n                      className=\"text-blue-600 hover:text-blue-900\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PlayerManager;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 421, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}