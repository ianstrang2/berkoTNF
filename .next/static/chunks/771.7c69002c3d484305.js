"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[771],{76771:(e,s,t)=>{t.r(s),t.d(s,{default:()=>i});var a=t(95155),r=t(12115);let i=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(null),[l,n]=(0,r.useState)({name:"",is_ringer:!1,is_retired:!1}),[d,c]=(0,r.useState)(!1),[x,o]=(0,r.useState)("");(0,r.useEffect)(()=>{m()},[]);let m=async()=>{try{let e=await fetch("/api/admin/players"),t=await e.json();t.data&&s(t.data)}catch(e){o("Failed to fetch players")}},p=async e=>{e.preventDefault(),c(!0),o("");try{let e=t?"PUT":"POST",s=t?{...l,player_id:t.player_id}:l,a=await fetch("/api/admin/players",{method:e,headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}),r=await a.json();if(r.error)throw Error(r.error);n({name:"",is_ringer:!1,is_retired:!1}),i(null),m()}catch(e){o(e.message)}finally{c(!1)}},h=e=>{i(e),n({name:e.name,is_ringer:e.is_ringer,is_retired:e.is_retired})};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold",children:t?"Edit Player":"Add New Player"}),(0,a.jsxs)("form",{onSubmit:p,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,a.jsx)("input",{type:"text",value:l.name,onChange:e=>n({...l,name:e.target.value}),className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:l.is_ringer,onChange:e=>n({...l,is_ringer:e.target.checked}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2",children:"Ringer"})]}),(0,a.jsxs)("label",{className:"flex items-center",children:[(0,a.jsx)("input",{type:"checkbox",checked:!l.is_retired,onChange:e=>n({...l,is_retired:!e.target.checked}),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,a.jsx)("span",{className:"ml-2",children:"Active"})]})]}),x&&(0,a.jsx)("p",{className:"text-red-500",children:x}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsx)("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg hover:from-purple-600 hover:to-blue-500 transition-all disabled:opacity-50",children:d?"Saving...":t?"Update Player":"Add Player"}),t&&(0,a.jsx)("button",{type:"button",onClick:()=>{i(null),n({name:"",is_ringer:!1,is_retired:!1})},className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-all",children:"Cancel Edit"})]})]}),(0,a.jsxs)("div",{className:"mt-8",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Player List"}),(0,a.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Ringer"}),(0,a.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_retired?"bg-red-100 text-red-800":"bg-green-100 text-green-800"),children:e.is_retired?"Retired":"Active"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(e.is_ringer?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.is_ringer?"Yes":"No"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,a.jsx)("button",{onClick:()=>h(e),className:"text-blue-600 hover:text-blue-900",children:"Edit"})})]},e.player_id))})]})})]})]})}}}]);